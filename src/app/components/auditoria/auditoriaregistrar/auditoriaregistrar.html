<div class="container">
    <h1>Registro de Auditoría</h1>

    <form [formGroup]="form" (submit)="aceptar()">

        <div class="form-group" [hidden]="!edicion">
            <mat-label>Código</mat-label>
            <input matInput formControlName="codigo" readonly>
        </div>

        <div class="form-group">
            <mat-label>Tipo de Auditoría *</mat-label>
            <input matInput formControlName="tipoAuditoria" placeholder="Ej. Interna">
            <div class="error" *ngIf="form.get('tipoAuditoria')?.touched && form.get('tipoAuditoria')?.hasError('required')">
                El tipo es requerido
            </div>
        </div>

        <div class="form-group">
            <mat-label>Descripción *</mat-label>
            <input matInput formControlName="descripcion" placeholder="Ingrese detalles">
            <div class="error" *ngIf="form.get('descripcion')?.touched && form.get('descripcion')?.hasError('required')">
                La descripción es requerida
            </div>
        </div>

        <div class="form-group">
            <mat-label>Fecha *</mat-label>
            <div style="display: flex; align-items: center;">
                <input matInput [matDatepicker]="picker" formControlName="fechaAuditoria" placeholder="DD/MM/YYYY">
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </div>
            <div class="error" *ngIf="form.get('fechaAuditoria')?.touched && form.get('fechaAuditoria')?.hasError('required')">
                La fecha es requerida
            </div>
        </div>

        <div class="form-group">
            <mat-label>ID de Usuario *</mat-label>
            <input matInput type="number" formControlName="usuario" placeholder="Ingrese ID">
            <div class="error" *ngIf="form.get('usuario')?.touched && form.get('usuario')?.hasError('required')">
                El ID de usuario es requerido
            </div>
        </div>

        <div class="button-group">
            <button type="button" mat-button class="btn-secondary" routerLink="/auditorias">
                Cancelar
            </button>
            <button type="submit" mat-raised-button class="btn-primary" [disabled]="form.invalid">
                Aceptar
            </button>
        </div>

    </form>
</div>
