<div class="container">
    <h1>{{ edicion ? 'Editar' : 'Registro de' }} Cuenta</h1>

    <form [formGroup]="form" (submit)="aceptar()">

        <div class="form-group" [hidden]="!edicion">
            <mat-label>Código</mat-label>
            <input matInput formControlName="codigo" readonly>
        </div>

        <div class="form-group">
            <mat-label>Nombre de Cuenta *</mat-label>
            <input matInput formControlName="nombreCuenta" placeholder="Ej. Cuenta Personal">
            <div class="error" *ngIf="form.get('nombreCuenta')?.touched && form.get('nombreCuenta')?.hasError('required')">
                El nombre es requerido
            </div>
        </div>

        <div class="form-group">
            <mat-label>Servicio *</mat-label>
            <input matInput formControlName="servicioCuenta" placeholder="Ej. Gmail, Netflix, Banco">
            <div class="error" *ngIf="form.get('servicioCuenta')?.touched && form.get('servicioCuenta')?.hasError('required')">
                El servicio es requerido
            </div>
        </div>

        <div class="form-group">
            <mat-label>Estado *</mat-label>
            <mat-form-field appearance="outline" style="width: 100%;">
                <mat-select formControlName="estadoCuenta">
                    <mat-option [value]="true">Activo</mat-option>
                    <mat-option [value]="false">Inactivo</mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <div class="form-group">
            <mat-label>Fecha de Registro *</mat-label>
            <div class="date-wrapper">
                <input matInput [matDatepicker]="picker" formControlName="fecharegistroCuenta" placeholder="DD/MM/YYYY">
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </div>
            <div class="error" *ngIf="form.get('fecharegistroCuenta')?.touched && form.get('fecharegistroCuenta')?.hasError('required')">
                La fecha es requerida
            </div>
        </div>

        <div class="form-group">
            <mat-label>ID de Usuario *</mat-label>
            <input matInput type="number" formControlName="usuario" placeholder="Ingrese ID numérico">
            <div class="error" *ngIf="form.get('usuario')?.touched && form.get('usuario')?.hasError('required')">
                El ID de usuario es requerido
            </div>
        </div>

        <div class="button-group">
            <button type="button" mat-button class="btn-secondary" routerLink="/cuentas">
                Cancelar
            </button>
            <button type="submit" mat-raised-button class="btn-primary" [disabled]="form.invalid">
                Aceptar
            </button>
        </div>

    </form>
</div>

