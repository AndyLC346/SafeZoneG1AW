<div class="container">
    <h1>{{ edicion ? 'Editar' : 'Registro de' }} Log de Acceso</h1>

    <form [formGroup]="form" (submit)="aceptar()">

        <div class="form-group" [hidden]="!edicion">
            <mat-label>Código</mat-label>
            <input matInput formControlName="codigo" readonly>
        </div>

        <div class="form-group">
            <mat-label>Fecha de Acceso *</mat-label>
            <div class="date-wrapper">
                <input matInput [matDatepicker]="picker" formControlName="fechaAcceso" placeholder="DD/MM/YYYY">
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </div>
            <div class="error" *ngIf="form.get('fechaAcceso')?.touched && form.get('fechaAcceso')?.hasError('required')">
                La fecha es requerida
            </div>
        </div>

        <div class="form-group">
            <mat-label>Dirección IP *</mat-label>
            <input matInput formControlName="ipAcceso" placeholder="Ej. 192.168.1.1">
            <div class="error" *ngIf="form.get('ipAcceso')?.touched && form.get('ipAcceso')?.hasError('required')">
                La IP es requerida
            </div>
        </div>

        <div class="form-group">
            <mat-label>Navegador *</mat-label>
            <input matInput formControlName="navegadorAcceso" placeholder="Ej. Chrome, Firefox">
            <div class="error" *ngIf="form.get('navegadorAcceso')?.touched && form.get('navegadorAcceso')?.hasError('required')">
                El navegador es requerido
            </div>
        </div>

        <div class="form-group">
            <mat-label>Sistema Operativo *</mat-label>
            <input matInput formControlName="sistemaoperativoAcceso" placeholder="Ej. Windows 11, MacOS">
            <div class="error" *ngIf="form.get('sistemaoperativoAcceso')?.touched && form.get('sistemaoperativoAcceso')?.hasError('required')">
                El sistema operativo es requerido
            </div>
        </div>

        <div class="form-group">
            <mat-label>ID de Usuario *</mat-label>
            <input matInput type="number" formControlName="usuario" placeholder="Ingrese ID numérico">
            <div class="error" *ngIf="form.get('usuario')?.touched && form.get('usuario')?.hasError('required')">
                El ID de usuario es requerido
            </div>
        </div>

        <div class="button-group">
            <button type="button" mat-button class="btn-secondary" routerLink="/logaccesos">
                Cancelar
            </button>
            <button type="submit" mat-raised-button class="btn-primary" [disabled]="form.invalid">
                Aceptar
            </button>
        </div>

    </form>
</div>
